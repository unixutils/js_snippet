<!DOCTYPE html>
<html>
  <head>
    <title>Chat Interface</title>
    <style>
      /* Style for chat box */
      .chat-box {
        width: 400px;
        height: 400px;
        border: 1px solid #ccc;
        overflow: auto;
        padding: 10px;
      }

      /* Style for user and bot messages */
      .user-message {
        margin-bottom: 10px;
      }

      .bot-message {
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <div class="chat-box" id="chatBox"></div>
    <input type="text" id="userInput" placeholder="Type your message" />
    <button onclick="sendMessage()">Send</button>

    <script>
      // Function to send user message and get bot reply
      function sendMessage() {
        const userInput = document.getElementById('userInput');
        const message = userInput.value;

        // Display user message in chat box
        const userMessageElement = document.createElement('div');
        userMessageElement.classList.add('user-message');
        userMessageElement.textContent = `You: ${message}`;
        document.getElementById('chatBox').appendChild(userMessageElement);

        // Send user message to API and get bot reply
        fetch('/api/chat', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
          },
          body: JSON.stringify({ message }),
        })
          .then((response) => response.json())
          .then((data) => {
            // Display bot reply in chat box
            const botMessageElement = document.createElement('div');
            botMessageElement.classList.add('bot-message');
            botMessageElement.textContent = `Bot: ${data.reply}`;
            document.getElementById('chatBox').appendChild(botMessageElement);
          });

        userInput.value = ''; // Clear input field
      }
    </script>
  </body>
</html>
